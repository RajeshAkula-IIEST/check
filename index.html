<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Student Grade Lookup</title>
</head>

<body>

  <h2>Check Your Grade</h2>

  <label>Student ID:</label><br>
  <input type="text" id="sid"><br><br>

  <label>Date of Birth:</label><br>
  <input type="date" id="dob"><br><br>

  <button onclick="getGrade()">Submit</button>

  <p id="result"></p>

 <script>
async function getGrade() {
  const sid = document.getElementById("sid").value.trim();
  const dob = document.getElementById("dob").value;

  document.getElementById("result").innerText = "Checking...";

  try {
    const response = await fetch("PASTE_YOUR_GOOGLE_SCRIPT_URL_HERE");
    const data = await response.json();

    for (let i = 0; i < data.length; i++) {
      const sheetSid = data[i][0].toString().trim();

      // Convert Google Sheet date â†’ YYYY-MM-DD
      const d = new Date(data[i][1]);
      const sheetDob =
        d.getFullYear() + "-" +
        String(d.getMonth() + 1).padStart(2, "0") + "-" +
        String(d.getDate()).padStart(2, "0");

      const marks = Number(data[i][2]);

      if (sheetSid === sid && sheetDob === dob) {
        let grade = "";

        if (marks >= 8) grade = "A";
        else if (marks >= 7) grade = "B";
        else if (marks >= 6) grade = "C";
        else if (marks >= 5) grade = "D";
        else grade = "F";

        document.getElementById("result").innerHTML =
          `Marks: ${marks}<br>Grade: ${grade}`;
        return;
      }
    }

    document.getElementById("result").innerText =
      "Invalid Student ID or Date of Birth";

  } catch (error) {
    document.getElementById("result").innerText =
      "Error loading data";
  }
}
</script>


</body>
</html>
